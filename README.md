# Lottery

### dev запуск

```bash
go run ./app/server -config ./config.yaml
```

### Нагрузочное тестирование
```
docker compose -f compose-local.yaml up --build
```

Результаты  
```
k6 run --vus 10 --duration 5s tests/load/load.js

         /\      Grafana   /‾‾/
    /\  /  \     |\  __   /  /
   /  \/    \    | |/ /  /   ‾‾\
  /          \   |   (  |  (‾)  |
 / __________ \  |_|\_\  \_____/

  █ THRESHOLDS

    errors
    ✓ 'rate<0.01' rate=0.00%

    http_req_duration
    ✓ 'p(95)<500' p(95)=10.68ms


  █ TOTAL RESULTS

    checks_total.......................: 25748   5146.634509/s
    checks_succeeded...................: 100.00% 25748 out of 25748
    checks_failed......................: 0.00%   0 out of 25748

    ✓ статус 200
    ✓ время ответа менее 500ms

    CUSTOM
    errors..................................................................: 0.00%  0 out of 12874

    HTTP
    http_req_duration.......................................................: avg=3.77ms min=229µs    med=1.81ms max=89.46ms p(90)=9.5ms  p(95)=10.68ms
      { expected_response:true }............................................: avg=3.77ms min=229µs    med=1.81ms max=89.46ms p(90)=9.5ms  p(95)=10.68ms
    http_req_failed.........................................................: 0.00%  0 out of 12874
    http_reqs...............................................................: 12874  2573.317255/s

    EXECUTION
    iteration_duration......................................................: avg=3.87ms min=267.62µs med=1.91ms max=91.56ms p(90)=9.61ms p(95)=10.78ms
    iterations..............................................................: 12874  2573.317255/s
    vus.....................................................................: 10     min=10         max=10
    vus_max.................................................................: 10     min=10         max=10

    NETWORK
    data_received...........................................................: 1.5 MB 304 kB/s
    data_sent...............................................................: 1.4 MB 273 kB/s




running (05.0s), 00/10 VUs, 12874 complete and 0 interrupted iterations
default ✓ [======================================] 10 VUs  5s
```
